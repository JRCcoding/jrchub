{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/jrccode/Dev/React/jrchub/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"/home/jrccode/Dev/React/jrchub/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/jrccode/Dev/React/jrchub/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport locationHook from \"./use-location.js\";\nimport makeMatcher from \"./matcher.js\";\nimport { useRef, useLayoutEffect, useContext, useCallback, createContext, isValidElement, cloneElement, createElement as h, Fragment, useState, forwardRef } from \"./react-deps.js\";\n\n/*\n * Part 1, Hooks API: useRouter, useRoute and useLocation\n */\n\n// one of the coolest features of `createContext`:\n// when no value is provided — default object is used.\n// allows us to use the router context as a global ref to store\n// the implicitly created router (see `useRouter` below)\nvar RouterCtx = createContext({});\nvar buildRouter = function buildRouter() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$hook = _ref.hook,\n    hook = _ref$hook === void 0 ? locationHook : _ref$hook,\n    _ref$base = _ref.base,\n    base = _ref$base === void 0 ? \"\" : _ref$base,\n    _ref$matcher = _ref.matcher,\n    matcher = _ref$matcher === void 0 ? makeMatcher() : _ref$matcher;\n  return {\n    hook: hook,\n    base: base,\n    matcher: matcher\n  };\n};\nexport var useRouter = function useRouter() {\n  var globalRef = useContext(RouterCtx);\n\n  // either obtain the router from the outer context (provided by the\n  // `<Router /> component) or create an implicit one on demand.\n  return globalRef.v || (globalRef.v = buildRouter());\n};\nexport var useLocation = function useLocation() {\n  var router = useRouter();\n  return router.hook(router);\n};\nexport var useRoute = function useRoute(pattern) {\n  var _useLocation = useLocation(),\n    _useLocation2 = _slicedToArray(_useLocation, 1),\n    path = _useLocation2[0];\n  return useRouter().matcher(pattern, path);\n};\n\n// internal hook used by Link and Redirect in order to perform navigation\nvar useNavigate = function useNavigate(options) {\n  var navRef = useRef();\n  var _useLocation3 = useLocation(),\n    _useLocation4 = _slicedToArray(_useLocation3, 2),\n    navigate = _useLocation4[1];\n  navRef.current = function () {\n    return navigate(options.to || options.href, options);\n  };\n  return navRef;\n};\n\n/*\n * Part 2, Low Carb Router API: Router, Route, Link, Switch\n */\n\nexport var Router = function Router(props) {\n  // this little trick allows to avoid having unnecessary\n  // calls to potentially expensive `buildRouter` method.\n  // https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\n  var _useState = useState(function () {\n      return {\n        v: buildRouter(props)\n      };\n    }),\n    _useState2 = _slicedToArray(_useState, 1),\n    value = _useState2[0];\n  return h(RouterCtx.Provider, {\n    value: value,\n    children: props.children\n  });\n};\nexport var Route = function Route(_ref2) {\n  var path = _ref2.path,\n    match = _ref2.match,\n    component = _ref2.component,\n    children = _ref2.children;\n  var useRouteMatch = useRoute(path);\n\n  // `props.match` is present - Route is controlled by the Switch\n  var _ref3 = match || useRouteMatch,\n    _ref4 = _slicedToArray(_ref3, 2),\n    matches = _ref4[0],\n    params = _ref4[1];\n  if (!matches) return null;\n\n  // React-Router style `component` prop\n  if (component) return h(component, {\n    params: params\n  });\n\n  // support render prop or plain children\n  return typeof children === \"function\" ? children(params) : children;\n};\nexport var Link = forwardRef(function (props, ref) {\n  var navRef = useNavigate(props);\n  var _useRouter = useRouter(),\n    base = _useRouter.base;\n  var to = props.to,\n    _props$href = props.href,\n    href = _props$href === void 0 ? to : _props$href,\n    children = props.children,\n    onClick = props.onClick;\n  var handleClick = useCallback(function (event) {\n    // ignores the navigation when clicked using right mouse button or\n    // by holding a special modifier key: ctrl, command, win, alt, shift\n    if (event.ctrlKey || event.metaKey || event.altKey || event.shiftKey || event.button !== 0) return;\n    onClick && onClick(event);\n    if (!event.defaultPrevented) {\n      event.preventDefault();\n      navRef.current();\n    }\n  },\n  // navRef is a ref so it never changes\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [onClick]);\n\n  // wraps children in `a` if needed\n  var extraProps = {\n    // handle nested routers and absolute paths\n    href: href[0] === \"~\" ? href.slice(1) : base + href,\n    onClick: handleClick,\n    to: null,\n    ref: ref\n  };\n  var jsx = isValidElement(children) ? children : h(\"a\", props);\n  return cloneElement(jsx, extraProps);\n});\nvar flattenChildren = function flattenChildren(children) {\n  var _ref5;\n  return Array.isArray(children) ? (_ref5 = []).concat.apply(_ref5, _toConsumableArray(children.map(function (c) {\n    return c && c.type === Fragment ? flattenChildren(c.props.children) : flattenChildren(c);\n  }))) : [children];\n};\nexport var Switch = function Switch(_ref6) {\n  var children = _ref6.children,\n    location = _ref6.location;\n  var _useRouter2 = useRouter(),\n    matcher = _useRouter2.matcher;\n  var _useLocation5 = useLocation(),\n    _useLocation6 = _slicedToArray(_useLocation5, 1),\n    originalLocation = _useLocation6[0];\n  var _iterator = _createForOfIteratorHelper(flattenChildren(children)),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var element = _step.value;\n      var match = 0;\n      if (isValidElement(element) &&\n      // we don't require an element to be of type Route,\n      // but we do require it to contain a truthy `path` prop.\n      // this allows to use different components that wrap Route\n      // inside of a switch, for example <AnimatedRoute />.\n      (match = element.props.path ? matcher(element.props.path, location || originalLocation) : [true, {}])[0]) return cloneElement(element, {\n        match: match\n      });\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return null;\n};\nexport var Redirect = function Redirect(props) {\n  var navRef = useNavigate(props);\n\n  // empty array means running the effect once, navRef is a ref so it never changes\n  useLayoutEffect(function () {\n    navRef.current();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return null;\n};\nexport default useRoute;","map":{"version":3,"names":["locationHook","makeMatcher","useRef","useLayoutEffect","useContext","useCallback","createContext","isValidElement","cloneElement","createElement","h","Fragment","useState","forwardRef","RouterCtx","buildRouter","hook","base","matcher","useRouter","globalRef","v","useLocation","router","useRoute","pattern","path","useNavigate","options","navRef","navigate","current","to","href","Router","props","value","Provider","children","Route","match","component","useRouteMatch","matches","params","Link","ref","onClick","handleClick","event","ctrlKey","metaKey","altKey","shiftKey","button","defaultPrevented","preventDefault","extraProps","slice","jsx","flattenChildren","Array","isArray","concat","map","c","type","Switch","location","originalLocation","element","Redirect"],"sources":["/home/jrccode/Dev/React/jrchub/node_modules/wouter/index.js"],"sourcesContent":["import locationHook from \"./use-location.js\";\nimport makeMatcher from \"./matcher.js\";\n\nimport {\n  useRef,\n  useLayoutEffect,\n  useContext,\n  useCallback,\n  createContext,\n  isValidElement,\n  cloneElement,\n  createElement as h,\n  Fragment,\n  useState,\n  forwardRef,\n} from \"./react-deps.js\";\n\n/*\n * Part 1, Hooks API: useRouter, useRoute and useLocation\n */\n\n// one of the coolest features of `createContext`:\n// when no value is provided — default object is used.\n// allows us to use the router context as a global ref to store\n// the implicitly created router (see `useRouter` below)\nconst RouterCtx = createContext({});\n\nconst buildRouter = ({\n  hook = locationHook,\n  base = \"\",\n  matcher = makeMatcher(),\n} = {}) => ({ hook, base, matcher });\n\nexport const useRouter = () => {\n  const globalRef = useContext(RouterCtx);\n\n  // either obtain the router from the outer context (provided by the\n  // `<Router /> component) or create an implicit one on demand.\n  return globalRef.v || (globalRef.v = buildRouter());\n};\n\nexport const useLocation = () => {\n  const router = useRouter();\n  return router.hook(router);\n};\n\nexport const useRoute = (pattern) => {\n  const [path] = useLocation();\n  return useRouter().matcher(pattern, path);\n};\n\n// internal hook used by Link and Redirect in order to perform navigation\nconst useNavigate = (options) => {\n  const navRef = useRef();\n  const [, navigate] = useLocation();\n\n  navRef.current = () => navigate(options.to || options.href, options);\n  return navRef;\n};\n\n/*\n * Part 2, Low Carb Router API: Router, Route, Link, Switch\n */\n\nexport const Router = (props) => {\n  // this little trick allows to avoid having unnecessary\n  // calls to potentially expensive `buildRouter` method.\n  // https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\n  const [value] = useState(() => ({ v: buildRouter(props) }));\n\n  return h(RouterCtx.Provider, {\n    value,\n    children: props.children,\n  });\n};\n\nexport const Route = ({ path, match, component, children }) => {\n  const useRouteMatch = useRoute(path);\n\n  // `props.match` is present - Route is controlled by the Switch\n  const [matches, params] = match || useRouteMatch;\n\n  if (!matches) return null;\n\n  // React-Router style `component` prop\n  if (component) return h(component, { params });\n\n  // support render prop or plain children\n  return typeof children === \"function\" ? children(params) : children;\n};\n\nexport const Link = forwardRef((props, ref) => {\n  const navRef = useNavigate(props);\n  const { base } = useRouter();\n\n  let { to, href = to, children, onClick } = props;\n\n  const handleClick = useCallback(\n    (event) => {\n      // ignores the navigation when clicked using right mouse button or\n      // by holding a special modifier key: ctrl, command, win, alt, shift\n      if (\n        event.ctrlKey ||\n        event.metaKey ||\n        event.altKey ||\n        event.shiftKey ||\n        event.button !== 0\n      )\n        return;\n\n      onClick && onClick(event);\n      if (!event.defaultPrevented) {\n        event.preventDefault();\n        navRef.current();\n      }\n    },\n    // navRef is a ref so it never changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [onClick]\n  );\n\n  // wraps children in `a` if needed\n  const extraProps = {\n    // handle nested routers and absolute paths\n    href: href[0] === \"~\" ? href.slice(1) : base + href,\n    onClick: handleClick,\n    to: null,\n    ref,\n  };\n  const jsx = isValidElement(children) ? children : h(\"a\", props);\n\n  return cloneElement(jsx, extraProps);\n});\n\nconst flattenChildren = (children) => {\n  return Array.isArray(children)\n    ? [].concat(\n        ...children.map((c) =>\n          c && c.type === Fragment\n            ? flattenChildren(c.props.children)\n            : flattenChildren(c)\n        )\n      )\n    : [children];\n};\n\nexport const Switch = ({ children, location }) => {\n  const { matcher } = useRouter();\n  const [originalLocation] = useLocation();\n\n  for (const element of flattenChildren(children)) {\n    let match = 0;\n\n    if (\n      isValidElement(element) &&\n      // we don't require an element to be of type Route,\n      // but we do require it to contain a truthy `path` prop.\n      // this allows to use different components that wrap Route\n      // inside of a switch, for example <AnimatedRoute />.\n      (match = element.props.path\n        ? matcher(element.props.path, location || originalLocation)\n        : [true, {}])[0]\n    )\n      return cloneElement(element, { match });\n  }\n\n  return null;\n};\n\nexport const Redirect = (props) => {\n  const navRef = useNavigate(props);\n\n  // empty array means running the effect once, navRef is a ref so it never changes\n  useLayoutEffect(() => {\n    navRef.current();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return null;\n};\n\nexport default useRoute;\n"],"mappings":";;;AAAA,OAAOA,YAAY,MAAM,mBAAmB;AAC5C,OAAOC,WAAW,MAAM,cAAc;AAEtC,SACEC,MAAM,EACNC,eAAe,EACfC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,cAAc,EACdC,YAAY,EACZC,aAAa,IAAIC,CAAC,EAClBC,QAAQ,EACRC,QAAQ,EACRC,UAAU,QACL,iBAAiB;;AAExB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAMC,SAAS,GAAGR,aAAa,CAAC,CAAC,CAAC,CAAC;AAEnC,IAAMS,WAAW,GAAG,SAAdA,WAAW;EAAA,+EAIb,CAAC,CAAC;IAAA,iBAHJC,IAAI;IAAJA,IAAI,0BAAGhB,YAAY;IAAA,iBACnBiB,IAAI;IAAJA,IAAI,0BAAG,EAAE;IAAA,oBACTC,OAAO;IAAPA,OAAO,6BAAGjB,WAAW,EAAE;EAAA,OACb;IAAEe,IAAI,EAAJA,IAAI;IAAEC,IAAI,EAAJA,IAAI;IAAEC,OAAO,EAAPA;EAAQ,CAAC;AAAA,CAAC;AAEpC,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAS,GAAS;EAC7B,IAAMC,SAAS,GAAGhB,UAAU,CAACU,SAAS,CAAC;;EAEvC;EACA;EACA,OAAOM,SAAS,CAACC,CAAC,KAAKD,SAAS,CAACC,CAAC,GAAGN,WAAW,EAAE,CAAC;AACrD,CAAC;AAED,OAAO,IAAMO,WAAW,GAAG,SAAdA,WAAW,GAAS;EAC/B,IAAMC,MAAM,GAAGJ,SAAS,EAAE;EAC1B,OAAOI,MAAM,CAACP,IAAI,CAACO,MAAM,CAAC;AAC5B,CAAC;AAED,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,CAAIC,OAAO,EAAK;EACnC,mBAAeH,WAAW,EAAE;IAAA;IAArBI,IAAI;EACX,OAAOP,SAAS,EAAE,CAACD,OAAO,CAACO,OAAO,EAAEC,IAAI,CAAC;AAC3C,CAAC;;AAED;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAW,CAAIC,OAAO,EAAK;EAC/B,IAAMC,MAAM,GAAG3B,MAAM,EAAE;EACvB,oBAAqBoB,WAAW,EAAE;IAAA;IAAzBQ,QAAQ;EAEjBD,MAAM,CAACE,OAAO,GAAG;IAAA,OAAMD,QAAQ,CAACF,OAAO,CAACI,EAAE,IAAIJ,OAAO,CAACK,IAAI,EAAEL,OAAO,CAAC;EAAA;EACpE,OAAOC,MAAM;AACf,CAAC;;AAED;AACA;AACA;;AAEA,OAAO,IAAMK,MAAM,GAAG,SAATA,MAAM,CAAIC,KAAK,EAAK;EAC/B;EACA;EACA;EACA,gBAAgBvB,QAAQ,CAAC;MAAA,OAAO;QAAES,CAAC,EAAEN,WAAW,CAACoB,KAAK;MAAE,CAAC;IAAA,CAAC,CAAC;IAAA;IAApDC,KAAK;EAEZ,OAAO1B,CAAC,CAACI,SAAS,CAACuB,QAAQ,EAAE;IAC3BD,KAAK,EAALA,KAAK;IACLE,QAAQ,EAAEH,KAAK,CAACG;EAClB,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAK,QAA6C;EAAA,IAAvCb,IAAI,SAAJA,IAAI;IAAEc,KAAK,SAALA,KAAK;IAAEC,SAAS,SAATA,SAAS;IAAEH,QAAQ,SAARA,QAAQ;EACtD,IAAMI,aAAa,GAAGlB,QAAQ,CAACE,IAAI,CAAC;;EAEpC;EACA,YAA0Bc,KAAK,IAAIE,aAAa;IAAA;IAAzCC,OAAO;IAAEC,MAAM;EAEtB,IAAI,CAACD,OAAO,EAAE,OAAO,IAAI;;EAEzB;EACA,IAAIF,SAAS,EAAE,OAAO/B,CAAC,CAAC+B,SAAS,EAAE;IAAEG,MAAM,EAANA;EAAO,CAAC,CAAC;;EAE9C;EACA,OAAO,OAAON,QAAQ,KAAK,UAAU,GAAGA,QAAQ,CAACM,MAAM,CAAC,GAAGN,QAAQ;AACrE,CAAC;AAED,OAAO,IAAMO,IAAI,GAAGhC,UAAU,CAAC,UAACsB,KAAK,EAAEW,GAAG,EAAK;EAC7C,IAAMjB,MAAM,GAAGF,WAAW,CAACQ,KAAK,CAAC;EACjC,iBAAiBhB,SAAS,EAAE;IAApBF,IAAI,cAAJA,IAAI;EAEZ,IAAMe,EAAE,GAAmCG,KAAK,CAA1CH,EAAE;IAAA,cAAmCG,KAAK,CAAtCF,IAAI;IAAJA,IAAI,4BAAGD,EAAE;IAAEM,QAAQ,GAAcH,KAAK,CAA3BG,QAAQ;IAAES,OAAO,GAAKZ,KAAK,CAAjBY,OAAO;EAEtC,IAAMC,WAAW,GAAG3C,WAAW,CAC7B,UAAC4C,KAAK,EAAK;IACT;IACA;IACA,IACEA,KAAK,CAACC,OAAO,IACbD,KAAK,CAACE,OAAO,IACbF,KAAK,CAACG,MAAM,IACZH,KAAK,CAACI,QAAQ,IACdJ,KAAK,CAACK,MAAM,KAAK,CAAC,EAElB;IAEFP,OAAO,IAAIA,OAAO,CAACE,KAAK,CAAC;IACzB,IAAI,CAACA,KAAK,CAACM,gBAAgB,EAAE;MAC3BN,KAAK,CAACO,cAAc,EAAE;MACtB3B,MAAM,CAACE,OAAO,EAAE;IAClB;EACF,CAAC;EACD;EACA;EACA,CAACgB,OAAO,CAAC,CACV;;EAED;EACA,IAAMU,UAAU,GAAG;IACjB;IACAxB,IAAI,EAAEA,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,GAAGA,IAAI,CAACyB,KAAK,CAAC,CAAC,CAAC,GAAGzC,IAAI,GAAGgB,IAAI;IACnDc,OAAO,EAAEC,WAAW;IACpBhB,EAAE,EAAE,IAAI;IACRc,GAAG,EAAHA;EACF,CAAC;EACD,IAAMa,GAAG,GAAGpD,cAAc,CAAC+B,QAAQ,CAAC,GAAGA,QAAQ,GAAG5B,CAAC,CAAC,GAAG,EAAEyB,KAAK,CAAC;EAE/D,OAAO3B,YAAY,CAACmD,GAAG,EAAEF,UAAU,CAAC;AACtC,CAAC,CAAC;AAEF,IAAMG,eAAe,GAAG,SAAlBA,eAAe,CAAItB,QAAQ,EAAK;EAAA;EACpC,OAAOuB,KAAK,CAACC,OAAO,CAACxB,QAAQ,CAAC,GAC1B,WAAE,EAACyB,MAAM,iCACJzB,QAAQ,CAAC0B,GAAG,CAAC,UAACC,CAAC;IAAA,OAChBA,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKvD,QAAQ,GACpBiD,eAAe,CAACK,CAAC,CAAC9B,KAAK,CAACG,QAAQ,CAAC,GACjCsB,eAAe,CAACK,CAAC,CAAC;EAAA,EACvB,EACF,GACD,CAAC3B,QAAQ,CAAC;AAChB,CAAC;AAED,OAAO,IAAM6B,MAAM,GAAG,SAATA,MAAM,QAA+B;EAAA,IAAzB7B,QAAQ,SAARA,QAAQ;IAAE8B,QAAQ,SAARA,QAAQ;EACzC,kBAAoBjD,SAAS,EAAE;IAAvBD,OAAO,eAAPA,OAAO;EACf,oBAA2BI,WAAW,EAAE;IAAA;IAAjC+C,gBAAgB;EAAkB,2CAEnBT,eAAe,CAACtB,QAAQ,CAAC;IAAA;EAAA;IAA/C,oDAAiD;MAAA,IAAtCgC,OAAO;MAChB,IAAI9B,KAAK,GAAG,CAAC;MAEb,IACEjC,cAAc,CAAC+D,OAAO,CAAC;MACvB;MACA;MACA;MACA;MACA,CAAC9B,KAAK,GAAG8B,OAAO,CAACnC,KAAK,CAACT,IAAI,GACvBR,OAAO,CAACoD,OAAO,CAACnC,KAAK,CAACT,IAAI,EAAE0C,QAAQ,IAAIC,gBAAgB,CAAC,GACzD,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAElB,OAAO7D,YAAY,CAAC8D,OAAO,EAAE;QAAE9B,KAAK,EAALA;MAAM,CAAC,CAAC;IAC3C;EAAC;IAAA;EAAA;IAAA;EAAA;EAED,OAAO,IAAI;AACb,CAAC;AAED,OAAO,IAAM+B,QAAQ,GAAG,SAAXA,QAAQ,CAAIpC,KAAK,EAAK;EACjC,IAAMN,MAAM,GAAGF,WAAW,CAACQ,KAAK,CAAC;;EAEjC;EACAhC,eAAe,CAAC,YAAM;IACpB0B,MAAM,CAACE,OAAO,EAAE;EAClB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,OAAO,IAAI;AACb,CAAC;AAED,eAAeP,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}